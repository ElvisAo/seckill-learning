# 限流防刷

基础解决方案：用户访问某个接口后，记录次数，然后让key每隔一段时间过期



高级解决方案：自定义注解+拦截器

1. 自定义注解
2. 创建UserContext类，用LocalMap存取user
3. 在拦截器里面根据根据信息看能不能获取到用户，如果能，设置UserContext
4. 根据注解参数，决定返回true or false
5. 注册该拦截器



## 其他知识点

- 拦截器先执行，参数解析器后执行
- 从收到请求到响应，都是一个线程在执行